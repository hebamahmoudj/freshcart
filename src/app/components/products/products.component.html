<!-- show all products -->

<section class="mb-5 mt-3 p-3" *ngIf="products.length>0 ">
    <h2 class="my-5 text-center">All products</h2>
    


    <input type="text" placeholder="serach....."  class="form-control w-50 mx-auto p-3 mb-5 shadow"  [(ngModel)]="searchword">

    <div class="row g-4 justify-content-center">

       <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2" *ngFor="let product of products|search:searchword |paginate: { id: 'productpangenate',
   
       itemsPerPage: pageSize,
       currentPage: currentpage,
       totalItems: total }">
        <!-- 
            itemperpage = num of items in one pageandi hena limit=40
             currentPage: currentpage andi hena current page =1
            
            total items in all api 2andi hena results=16 in api -->
         
        <div class="product h-100 py-1 ">
          
     
          <header [routerLink]="['/productdetails',product._id]" role="button">
            <img [src]="product.imageCover" class="w-100" alt="product.title" >
           
               <h3 class="h6">{{product.title |cuttext:3}}</h3>
                <h4 class="h6 text-main">{{product.category.name}}</h4>
               <div class="d-flex align-items-center justify-content-between small">
              <span class=" ">{{product.price|currency:'eÂ£'}}</span>
              <span><i [class.rating-color]="product.ratingsAverage >=item"   *ngFor="let item of [1,2,3,4,5]" class="fas fa-star "></i> 
                
                <span class="text-muted">{{product.ratingsAverage}}</span></span>
               </div>
         </header>
    
       <footer class="mt-1"><button class="main-btn w-100 py-2 rounded " (click)="addproducttocart(product._id,btn)" #btn >+Add to cart</button></footer>
            </div>
      
           </div>
    
        
    
          </div>
    <div class="d-flex justify-content-center">
        <pagination-controls  id="productpangenate"
                      (pageChange)="pageChanged($event)"
                      (pageBoundsCorrection)="pageChanged($event)"
                      [maxSize]="9"
                     [directionLinks]="true"
                     [autoHide]="true"
                      [responsive]="true"
                      previousLabel="Previous"
                      nextLabel="Next"
                      screenReaderPaginationLabel="Pagination"
                      screenReaderPageLabel="page"
                      screenReaderCurrentLabel="You're on page">
</pagination-controls>
    </div>
          
    </section>