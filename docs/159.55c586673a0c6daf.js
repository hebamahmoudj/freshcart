"use strict";(self.webpackChunkFreshcart=self.webpackChunkFreshcart||[]).push([[159],{159:(L,u,n)=>{n.r(u),n.d(u,{HomeComponent:()=>F});var a=n(6814),g=n(460),l=n(756),d=n(1120),h=n(6787),_=n(95),t=n(4769),x=n(0),f=n(6286),v=n(2425),T=n(9196),C=n(9410);function O(s,c){1&s&&t._UZ(0,"img",10)}function A(s,c){1&s&&t._UZ(0,"img",11)}function E(s,c){1&s&&t._UZ(0,"img",12)}function Z(s,c){if(1&s&&(t._UZ(0,"img",16),t.TgZ(1,"h3",17),t._uU(2),t.qZA()),2&s){const e=t.oxw().$implicit;t.Q6J("src",e.image,t.LSH)("alt",e.name)("title",e.name),t.xp6(2),t.Oqu(e.name)}}function M(s,c){1&s&&(t.ynx(0),t.YNc(1,Z,3,4,"ng-template",4),t.BQk())}function w(s,c){if(1&s&&(t.TgZ(0,"section",13)(1,"h2",14),t._uU(2,"popular categories"),t.qZA(),t.TgZ(3,"owl-carousel-o",3),t.YNc(4,M,2,0,"ng-container",15),t.qZA()()),2&s){const e=t.oxw();t.xp6(3),t.Q6J("options",e.customOptions),t.xp6(1),t.Q6J("ngForOf",e.categories)}}function D(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"i",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.addwishlist(o._id))}),t.qZA()}}function P(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"i",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.removefromwishlist(o._id))}),t.qZA()}}function H(s,c){if(1&s&&t._UZ(0,"i",39),2&s){const e=c.$implicit,i=t.oxw().$implicit;t.ekj("rating-color",i.ratingsAverage>=e)}}const U=function(s){return["/productdetails",s]},y=function(){return[1,2,3,4,5]};function I(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",23)(1,"div",24),t.YNc(2,D,1,0,"i",25),t.YNc(3,P,1,0,"i",26),t.TgZ(4,"header",27),t._UZ(5,"img",28),t.TgZ(6,"h3",29),t._uU(7),t.ALo(8,"cuttext"),t.qZA(),t.TgZ(9,"h4",30),t._uU(10),t.qZA(),t.TgZ(11,"div",31)(12,"span",13),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"span"),t.YNc(16,H,1,2,"i",32),t.TgZ(17,"span",33),t._uU(18),t.qZA()()()(),t.TgZ(19,"footer",34)(20,"button",35,36),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.MAs(21),m=t.oxw(2);return t.KtG(m.addproducttocart(r._id,p))}),t._uU(22,"+Add to cart"),t.qZA()()()()}if(2&s){const e=c.$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!i.allwishlistid.includes(e._id)),t.xp6(1),t.Q6J("ngIf",i.allwishlistid.includes(e._id)),t.xp6(1),t.Q6J("routerLink",t.VKq(15,U,e._id)),t.xp6(1),t.Q6J("src",e.imageCover,t.LSH),t.xp6(2),t.Oqu(t.xi3(8,9,e.title,3)),t.xp6(3),t.Oqu(e.category.name),t.xp6(3),t.Oqu(t.xi3(14,12,e.price,"e\xa3")),t.xp6(3),t.Q6J("ngForOf",t.DdM(17,y)),t.xp6(2),t.Oqu(e.ratingsAverage)}}function S(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"section",18)(1,"h2",19),t._uU(2,"popular products"),t.qZA(),t.TgZ(3,"input",20),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.searchword=o)}),t.qZA(),t.TgZ(4,"div",21),t.YNc(5,I,23,18,"div",22),t.ALo(6,"search"),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.searchword),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,2,e.products.slice(0,12),e.searchword))}}let F=(()=>{class s{constructor(e,i,o,r,p,m,J){this._ProductService=e,this._Router=i,this._CartService=o,this.toastr=r,this._Renderer2=p,this._WishlistService=m,this._AuthService=J,this.searchword="",this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,autoplay:!0,autoplayTimeout:2e3,autoplayHoverPause:!0,autoplaySpeed:1e3,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:4},740:{items:5},940:{items:6}},nav:!1},this.mainsliderOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:2e3,autoplayHoverPause:!0,autoplaySpeed:1e3,dots:!1,navSpeed:700,navText:["",""],items:1,nav:!1},this.products=[],this.allwishlistid=[],this.categories=[]}ngOnInit(){console.log("home");let e=this._AuthService.decodeuser();console.log(e),this._ProductService.getAllProducts().subscribe({next:i=>{this.products=i.data}}),this._WishlistService.getloggeduserwishlis().subscribe({next:i=>{console.log(i.count);const o=i.data.map(r=>r._id);this.allwishlistid=o}}),this._ProductService.getAllcategories().subscribe({next:i=>{this.categories=i.data}})}addproducttocart(e,i){this._Renderer2.setAttribute(i,"disabled","true"),this._CartService.addtocart(e).subscribe({next:o=>{this.toastr.success(o.message),this._Renderer2.removeAttribute(i,"disabled"),this._CartService.cartNumber.next(o.numOfCartItems)},error:o=>{this._Renderer2.removeAttribute(i,"disabled")}})}addwishlist(e){this._WishlistService.addproductTowishlist(e).subscribe({next:i=>{this.allwishlistid=i.data,console.log(i.data.length),this._WishlistService.wishlistnums.next(i.data.length),this.toastr.success(i.message)}})}removefromwishlist(e){this._WishlistService.removefromwishlist(e).subscribe({next:i=>{this.allwishlistid=i.data,this.toastr.error(i.message),this._WishlistService.wishlistnums.next(i.data.length)}})}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(x.M),t.Y36(d.F0),t.Y36(f.N),t.Y36(v._W),t.Y36(t.Qsj),t.Y36(T.M),t.Y36(C.e))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:12,vars:3,consts:[[1,"mt-4"],[1,"row","g-0"],[1,"col-md-9"],[3,"options"],["carouselSlide",""],[1,"col-md-3"],["height","250px","src","./assets/images/grocery-banner-2.jpeg","alt","",1,"w-100"],["height","250px","src","./assets/images/grocery-banner.png","alt","",1,"w-100"],["class","",4,"ngIf"],["class","mb-5",4,"ngIf"],["height","500px","src","./assets/images/slider-image-1.jpeg","alt","slide1"],["height","500px","src","./assets/images/slider-image-2.jpeg","alt","slide2"],["height","500px","src","./assets/images/slider-image-3.jpeg","alt","slide3"],[1,""],[1,"my-5"],[4,"ngFor","ngForOf"],["height","350px",1,"w-100",3,"src","alt","title"],[1,"h4","text-main"],[1,"mb-5"],[1,"my-3"],["type","text","placeholder","serach.....",1,"form-control","w-50","mx-auto","p-3","mb-5","shadow",3,"ngModel","ngModelChange"],[1,"row","g-4"],["class","col-sm-6 col-md-4 col-lg-3 col-xl-2",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3","col-xl-2"],[1,"product","h-100","py-1"],["class","fa-regular fa-heart heart text-main",3,"click",4,"ngIf"],["class","fas fa-heart heart text-main",3,"click",4,"ngIf"],["role","button",3,"routerLink"],["alt","product.title",1,"w-100",3,"src"],[1,"h6"],[1,"h6","text-main"],[1,"d-flex","align-items-center","justify-content-between","small"],["class","fas fa-star ",3,"rating-color",4,"ngFor","ngForOf"],[1,"text-muted"],[1,"mt-1"],[1,"main-btn","w-100","py-2","rounded",3,"click"],["btn",""],[1,"fa-regular","fa-heart","heart","text-main",3,"click"],[1,"fas","fa-heart","heart","text-main",3,"click"],[1,"fas","fa-star"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"owl-carousel-o",3),t.YNc(4,O,1,0,"ng-template",4),t.YNc(5,A,1,0,"ng-template",4),t.YNc(6,E,1,0,"ng-template",4),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"img",6)(9,"img",7),t.qZA()()(),t.YNc(10,w,5,2,"section",8),t.YNc(11,S,7,5,"section",9)),2&i&&(t.xp6(3),t.Q6J("options",o.mainsliderOptions),t.xp6(7),t.Q6J("ngIf",o.categories.length),t.xp6(1),t.Q6J("ngIf",o.products.length>0))},dependencies:[a.ez,a.sg,a.O5,a.H9,g.r,l.bB,l.Fy,l.Mp,d.rH,h.C,_.u5,_.Fj,_.JJ,_.On],styles:["[_ngcontent-%COMP%]::root{overflow:hidden}"]})}return s})()}}]);