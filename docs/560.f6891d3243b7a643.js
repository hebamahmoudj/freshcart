"use strict";(self.webpackChunkFreshcart=self.webpackChunkFreshcart||[]).push([[560],{6560:(O,w,u)=>{u.r(w),u.d(w,{RegisterComponent:()=>D});var v=u(6814),i=u(95),e=u(4769),T=u(9410),F=u(1120);function C(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"please fillout this field"),e.qZA())}function A(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"minlength 3"),e.qZA())}function I(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"maxlength is 20"),e.qZA())}function q(t,o){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,C,2,0,"p",21),e.YNc(2,A,2,0,"p",21),e.YNc(3,I,2,0,"p",21),e.qZA()),2&t){const l=e.oxw();let n,r,s;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("name"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(s=l.registerForm.get("name"))?null:s.getError("maxlength"))}}function U(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"please fillout this field"),e.qZA())}function J(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"email invalid format "),e.qZA())}function R(t,o){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,U,2,0,"p",21),e.YNc(2,J,2,0,"p",21),e.qZA()),2&t){const l=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("email"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("email"))?null:r.getError("email"))}}function E(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"please fillout this field"),e.qZA())}function x(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"inncorect password min length is 6"),e.qZA())}function P(t,o){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,E,2,0,"p",21),e.YNc(2,x,2,0,"p",21),e.qZA()),2&t){const l=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("password"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("password"))?null:r.getError("pattern"))}}function y(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"please fillout this field"),e.qZA())}function N(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"repassword confirmation is incorrect"),e.qZA())}function Q(t,o){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,y,2,0,"p",21),e.YNc(2,N,2,0,"p",21),e.qZA()),2&t){const l=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("rePassword"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("rePassword"))?null:r.getError("mismatch"))}}function Y(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"please fillout this field"),e.qZA())}function b(t,o){1&t&&(e.TgZ(0,"p",22),e._uU(1,"accept only egyption phone number"),e.qZA())}function M(t,o){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,Y,2,0,"p",21),e.YNc(2,b,2,0,"p",21),e.qZA()),2&t){const l=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("phone"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("phone"))?null:r.getError("pattern"))}}function L(t,o){1&t&&(e.TgZ(0,"span"),e._UZ(1,"i",23),e.qZA())}function B(t,o){if(1&t&&(e.TgZ(0,"p",24),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.Oqu(l.errorMsg)}}const d=function(t,o){return{"is-invalid":t," is-valid":o}};let D=(()=>{class t{constructor(l,n,r){this._AuthService=l,this._Router=n,this._FormBuilder=r,this.isloading=!1,this.errorMsg="",this.registerForm=this._FormBuilder.group({name:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(20)]],email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,i.kI.pattern(/^[0-9a-zA-Z_@]{6,}$/)]],rePassword:[""],phone:["",[i.kI.required,i.kI.pattern(/^01[0125][0-9]{8}$/)]]},{validators:[this.confirmpassword]}),this.showpassword=!1}confirmpassword(l){const n=l.get("password"),r=l.get("rePassword");""==r?.value?r.setErrors({required:!0}):n?.value!=r?.value&&r?.setErrors({mismatch:!0})}handleform(){const l=this.registerForm.value;this.isloading=!0,!0===this.registerForm.valid&&this._AuthService.register(l).subscribe({next:n=>{"success"==n.message&&(this.isloading=!1,this._Router.navigate(["/login"]))},error:n=>{this.errorMsg=n.error.message,this.isloading=!1}})}showHidePassword(l){this.showpassword=l.target.checked}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(T.e),e.Y36(F.F0),e.Y36(i.qu))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:36,vars:31,consts:[[1,"w-75","bg-main-light","shadow","rounded","p-4","my-4","m-auto"],[1,"my-5"],[3,"formGroup","ngSubmit"],[1,"form-floating","my-3"],["type","name","id","name","placeholder","name...","formControlName","name",1,"form-control",3,"ngClass"],["for","name"],["class","alert alert-danger p-1 small m-auto w-50",4,"ngIf"],["type","email","id","email","placeholder","email...","formControlName","email",1,"form-control",3,"ngClass"],["for","email"],[1,"d-flex","justify-content-end"],["type","checkbox",3,"change"],["id","password","placeholder","password...","formControlName","password",1,"form-control",3,"type","ngClass"],["for","password"],["id","rePassword","placeholder","rePassword...","formControlName","rePassword",1,"form-control",3,"type","ngClass"],["for","rePassword"],["type","tel","id","phone","placeholder","phone...","formControlName","phone",1,"form-control",3,"ngClass"],["for","phone"],[1,"main-btn","d-block","ms-auto","p-2",3,"disabled"],[4,"ngIf"],["class","alert alert-danger mx-auto p-1 mb-0",4,"ngIf"],[1,"alert","alert-danger","p-1","small","m-auto","w-50"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fa","fa-spinner","fa-spin"],[1,"alert","alert-danger","mx-auto","p-1","mb-0"]],template:function(n,r){if(1&n&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"register Now:"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return r.handleform()}),e.TgZ(4,"div",3),e._UZ(5,"input",4),e.TgZ(6,"label",5),e._uU(7,"name:"),e.qZA()(),e.YNc(8,q,4,3,"div",6),e.TgZ(9,"div",3),e._UZ(10,"input",7),e.TgZ(11,"label",8),e._uU(12,"email:"),e.qZA()(),e.YNc(13,R,3,2,"div",6),e.TgZ(14,"div",9)(15,"input",10),e.NdJ("change",function(_){return r.showHidePassword(_)}),e.qZA(),e._uU(16,"show "),e.qZA(),e.TgZ(17,"div",3),e._UZ(18,"input",11),e.TgZ(19,"label",12),e._uU(20,"password:"),e.qZA()(),e.YNc(21,P,3,2,"div",6),e.TgZ(22,"div",3),e._UZ(23,"input",13),e.TgZ(24,"label",14),e._uU(25,"rePassword:"),e.qZA()(),e.YNc(26,Q,3,2,"div",6),e.TgZ(27,"div",3),e._UZ(28,"input",15),e.TgZ(29,"label",16),e._uU(30,"phone:"),e.qZA()(),e.YNc(31,M,3,2,"div",6),e.TgZ(32,"button",17),e._uU(33,"register "),e.YNc(34,L,2,0,"span",18),e.qZA()(),e.YNc(35,B,2,1,"p",19),e.qZA()),2&n){let s,_,a,f,g,c,m,h,p,Z;e.xp6(3),e.Q6J("formGroup",r.registerForm),e.xp6(2),e.Q6J("ngClass",e.WLB(16,d,(null==(s=r.registerForm.get("name"))?null:s.dirty)&&(null==(s=r.registerForm.get("name"))?null:s.invalid),(null==(s=r.registerForm.get("name"))?null:s.valid)&&(null==(s=r.registerForm.get("name"))?null:s.dirty))),e.xp6(3),e.Q6J("ngIf",(null==(_=r.registerForm.get("name"))?null:_.errors)&&(null==(_=r.registerForm.get("name"))?null:_.touched)),e.xp6(2),e.Q6J("ngClass",e.WLB(19,d,(null==(a=r.registerForm.get("email"))?null:a.dirty)&&(null==(a=r.registerForm.get("email"))?null:a.invalid),(null==(a=r.registerForm.get("email"))?null:a.valid)&&(null==(a=r.registerForm.get("email"))?null:a.dirty))),e.xp6(3),e.Q6J("ngIf",(null==(f=r.registerForm.get("email"))?null:f.errors)&&(null==(f=r.registerForm.get("email"))?null:f.touched)),e.xp6(5),e.Q6J("type",r.showpassword?"text":"password")("ngClass",e.WLB(22,d,(null==(g=r.registerForm.get("password"))?null:g.dirty)&&(null==(g=r.registerForm.get("password"))?null:g.invalid),(null==(g=r.registerForm.get("password"))?null:g.valid)&&(null==(g=r.registerForm.get("password"))?null:g.dirty))),e.xp6(3),e.Q6J("ngIf",(null==(c=r.registerForm.get("password"))?null:c.errors)&&(null==(c=r.registerForm.get("password"))?null:c.touched)),e.xp6(2),e.Q6J("type",r.showpassword?"text":"password")("ngClass",e.WLB(25,d,(null==(m=r.registerForm.get("rePassword"))?null:m.dirty)&&(null==(m=r.registerForm.get("rePassword"))?null:m.getError("mismatch")),(null==(m=r.registerForm.get("rePassword"))?null:m.valid)&&(null==(m=r.registerForm.get("rePassword"))?null:m.dirty))),e.xp6(3),e.Q6J("ngIf",(null==(h=r.registerForm.get("rePassword"))?null:h.errors)&&(null==(h=r.registerForm.get("rePassword"))?null:h.touched)),e.xp6(2),e.Q6J("ngClass",e.WLB(28,d,(null==(p=r.registerForm.get("phone"))?null:p.dirty)&&(null==(p=r.registerForm.get("phone"))?null:p.invalid),(null==(p=r.registerForm.get("phone"))?null:p.valid)&&(null==(p=r.registerForm.get("phone"))?null:p.dirty))),e.xp6(3),e.Q6J("ngIf",(null==(Z=r.registerForm.get("phone"))?null:Z.errors)&&(null==(Z=r.registerForm.get("phone"))?null:Z.touched)),e.xp6(1),e.Q6J("disabled",r.registerForm.invalid),e.xp6(2),e.Q6J("ngIf",r.isloading),e.xp6(1),e.Q6J("ngIf",r.errorMsg)}},dependencies:[v.ez,v.mk,v.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]})}return t})()}}]);