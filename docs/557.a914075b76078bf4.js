"use strict";(self.webpackChunkFreshcart=self.webpackChunkFreshcart||[]).push([[557],{7557:(g,d,a)=>{a.r(d),a.d(d,{CashpaymentComponent:()=>_});var i=a(6814),n=a(95),t=a(4769),p=a(1120),m=a(6286);function u(r,h){if(1&r){const e=t.EpF();t.TgZ(0,"section",2)(1,"h1",3),t._uU(2," check out :"),t.qZA(),t.TgZ(3,"form",4),t.NdJ("ngSubmit",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.handleForm())}),t.TgZ(4,"div",5),t._UZ(5,"input",6),t.TgZ(6,"label",7),t._uU(7,"Details"),t.qZA()(),t.TgZ(8,"div",5),t._UZ(9,"input",8),t.TgZ(10,"label",9),t._uU(11,"phone"),t.qZA()(),t.TgZ(12,"div",5),t._UZ(13,"input",10),t.TgZ(14,"label",11),t._uU(15,"city"),t.qZA()(),t.TgZ(16,"button",12),t._uU(17,"checkout"),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.checkoutForm)}}function o(r,h){if(1&r&&(t.TgZ(0,"tr",34)(1,"td",35),t._uU(2),t.qZA(),t.TgZ(3,"td",36),t._uU(4),t.qZA(),t.TgZ(5,"td",37),t._uU(6),t.qZA(),t.TgZ(7,"td",38),t._uU(8),t.ALo(9,"currency"),t.qZA()()),2&r){const e=h.$implicit,s=h.index;t.xp6(2),t.Oqu(s+1),t.xp6(2),t.Oqu(e._id),t.xp6(2),t.Oqu(e.count),t.xp6(2),t.Oqu(t.xi3(9,4,e.price,"EGP"))}}function c(r,h){if(1&r&&(t.TgZ(0,"section",13)(1,"div",14)(2,"div",15)(3,"main")(4,"div",16)(5,"div",17),t._UZ(6,"img",18),t.qZA(),t.TgZ(7,"div",19)(8,"div",20),t._uU(9),t.qZA(),t.TgZ(10,"div",21),t._uU(11),t.qZA(),t.TgZ(12,"div",22),t._uU(13),t.ALo(14,"date"),t.qZA()()(),t.TgZ(15,"div",23)(16,"div",24)(17,"table",25)(18,"thead")(19,"tr",26)(20,"th",27),t._uU(21,"#"),t.qZA(),t.TgZ(22,"th",28),t._uU(23,"prodid"),t.qZA(),t.TgZ(24,"th",27),t._uU(25,"Qty"),t.qZA(),t.TgZ(26,"th",29),t._uU(27,"price"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,o,10,7,"tr",30),t.qZA()()()(),t.TgZ(30,"tfoot",14)(31,"tr",31)(32,"th",32),t._uU(33,"Total price :"),t.qZA(),t.TgZ(34,"th",33),t._uU(35),t.qZA()()()()()()()),2&r){const e=t.oxw();t.xp6(9),t.hij("phone ",e.allorders.shippingAddress.phone," "),t.xp6(2),t.hij("Address: ",e.allorders.shippingAddress.details,""),t.xp6(2),t.hij("Date: ",t.lcZ(14,5,e.allorders.updatedAt),""),t.xp6(16),t.Q6J("ngForOf",e.allordersdetails),t.xp6(6),t.Oqu(e.allorders.totalOrderPrice)}}let _=(()=>{class r{constructor(e,s,l){this._ActivatedRoute=e,this._CartService=s,this._Router=l,this.step1=!0,this.step2=!1,this.cartId="",this.username="",this.checkoutForm=new n.cw({details:new n.NI(""),phone:new n.NI(""),city:new n.NI("")})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.cartId=e.get("id")}}),console.log(this.cartId)}handleForm(){this._CartService.checkoutcash(this.cartId,this.checkoutForm.value).subscribe({next:s=>{console.log(s),this.step1=!1,this.step2=!0,this.allorders=s.data,this.allordersdetails=s.data.cartItems,console.log(this.allordersdetails),this._CartService.cartNumber.next(0)}})}static#t=this.\u0275fac=function(s){return new(s||r)(t.Y36(p.gz),t.Y36(m.N),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-cashpayment"]],standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[["class","paymentform w-75 bg-main-light  shadow rounded p-4 my-4 m-auto ",4,"ngIf"],["class","   gradient-custom w-75 mx-auto  rounded-circle mt-4 mvh-100",4,"ngIf"],[1,"paymentform","w-75","bg-main-light","shadow","rounded","p-4","my-4","m-auto"],[1,"h3","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-floating","m-3"],["type","text","id","details","formControlName","details","placeholder","details",1,"form-control"],["for","details"],["type","tel","id","phone","formControlName","phone","placeholder","phone",1,"form-control"],["for","phone"],["type","text","id","city","formControlName","city","placeholder","city",1,"form-control"],["for","city"],[1,"main-btn","d-block","ms-auto","mt-3"],[1,"gradient-custom","w-75","mx-auto","rounded-circle","mt-4","mvh-100"],[1,"mt-4"],[1,"purchase","overflow-auto"],[1,"row","mt-3"],[1,"col-sm-3","col-xs-3","to-details","mt-3"],["src","./assets/images/freshcart-logo.svg","width","140px","height","140px",1,"img-responsive","rounded-circle"],[1,"col-sm-9","col-xs-9","purchase-info","mt-3"],[1,"to-address","fs-4"],[1,"to-city","fs-4"],[1,"info-date","fs-4"],[1,"row","mt-4"],[1,"col-sm-12","col-xs-12","table-responsive"],["border","0","cellspacing","0","cellpadding","0","width","100%",1,"table","shadow","table-sm","table-sm-secondary","bg-main-light","table-condensed"],[1,"mt-3"],[1,"text-center","col-xs-1","col-sm-1","fs-2"],[1,"text-center","col-xs-7","col-sm-7","fs-2"],[1,"text-center","col-xs-3","col-sm-3","fs-2"],["class","my-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[1,"text-center","h2","text-main"],[1,"text-right","h2"],[1,"my-3"],[1,"col-xs-1","col-sm-1","text-center","my-3","fs-1"],[1,"text-center","col-xs-7","col-sm-7","my-3","fs-1"],[1,"text-center","col-xs-1","col-sm-1","my-3","fs-1"],[1,"text-right","col-xs-3","col-sm-3","my-3t","fs-1"]],template:function(s,l){1&s&&(t.YNc(0,u,18,1,"section",0),t.YNc(1,c,36,7,"section",1)),2&s&&(t.Q6J("ngIf",l.step1),t.xp6(1),t.Q6J("ngIf",l.step2))},dependencies:[i.ez,i.sg,i.O5,i.H9,i.uU,n.u5,n._Y,n.Fj,n.JJ,n.JL,n.UX,n.sg,n.u],styles:[".purchase[_ngcontent-%COMP%]{position:relative;background-color:#fff;min-height:680px;padding:15px;font-family:Times New Roman}.purchase[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:0;margin-bottom:0}.purchase[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;margin-top:0;margin-bottom:0}.purchase[_ngcontent-%COMP%]   .company-details[_ngcontent-%COMP%]{text-align:right;margin-top:0;margin-bottom:0}.purchase[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{padding:0;margin-bottom:0}.purchase[_ngcontent-%COMP%]   .to-details[_ngcontent-%COMP%]{text-align:left}.purchase[_ngcontent-%COMP%]   .to-name[_ngcontent-%COMP%]{font-weight:700}.purchase[_ngcontent-%COMP%]   .to-name[_ngcontent-%COMP%]   .to-address[_ngcontent-%COMP%]   .to-city[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:0}.purchase[_ngcontent-%COMP%]   .purchase-info[_ngcontent-%COMP%]{text-align:right}.purchase-info[_ngcontent-%COMP%]   .info-code[_ngcontent-%COMP%]{font-weight:700}.purchase-info[_ngcontent-%COMP%]   .info-code[_ngcontent-%COMP%]   .info-date[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{margin:0!important;padding-top:0!important;padding-bottom:0!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin:0!important;padding-top:0!important;padding-bottom:0!important;border:none}.table[_ngcontent-%COMP%]   .blank-row[_ngcontent-%COMP%]{height:25px!important;background-color:#fff;border:2px solid #ccc}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{min-height:1000px!important}@media only screen and (max-width: 1200px){.paymentform[_ngcontent-%COMP%]{width:100%!important}}"]})}return r})()},6286:(g,d,a)=>{a.d(d,{N:()=>p});var i=a(5619),n=a(4769),t=a(9862);let p=(()=>{class m{constructor(o){this._HttpClient=o,this.cartNumber=new i.X(0),this.baseurl="https://ecommerce.routemisr.com/api/v1/"}addtocart(o){return this._HttpClient.post(this.baseurl+"cart",{productId:o})}getloggedusercart(){return this._HttpClient.get(this.baseurl+"cart")}updateproductquentitiy(o,c){return this._HttpClient.put(this.baseurl+`cart/${o}`,{count:c})}removeItem(o){return this._HttpClient.delete(this.baseurl+`cart/${o}`)}clearcart(){return this._HttpClient.delete(this.baseurl+"cart")}checkout(o,c){return this._HttpClient.post(` https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${o}?url=https://hebamahmoudj.github.io/freshcart/#/`,{shippingAddress:c})}checkoutcash(o,c){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/${o}`,{shippingAddress:c})}static#t=this.\u0275fac=function(c){return new(c||m)(n.LFG(t.eN))};static#e=this.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()}}]);