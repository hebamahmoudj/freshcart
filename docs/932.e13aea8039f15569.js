"use strict";(self.webpackChunkFreshcart=self.webpackChunkFreshcart||[]).push([[932],{6666:(I,_,m)=>{m.r(_),m.d(_,{LoginComponent:()=>L});var p=m(6814),l=m(95),d=m(1120),e=m(4769),f=m(9410);function h(o,a){1&o&&(e.TgZ(0,"p",20),e._uU(1,"please fillout this field"),e.qZA())}function v(o,a){1&o&&(e.TgZ(0,"p",20),e._uU(1,"email invalid format "),e.qZA())}function w(o,a){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,h,2,0,"p",19),e.YNc(2,v,2,0,"p",19),e.qZA()),2&o){const i=e.oxw();let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=i.loginForm.get("email"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=i.loginForm.get("email"))?null:n.getError("email"))}}function Z(o,a){1&o&&(e.TgZ(0,"p",20),e._uU(1,"please fillout this field"),e.qZA())}function T(o,a){1&o&&(e.TgZ(0,"p",20),e._uU(1,"password inncorect min length is 6"),e.qZA())}function A(o,a){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,Z,2,0,"p",19),e.YNc(2,T,2,0,"p",19),e.qZA()),2&o){const i=e.oxw();let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=i.loginForm.get("password"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=i.loginForm.get("password"))?null:n.getError("pattern"))}}function C(o,a){1&o&&(e.TgZ(0,"span"),e._UZ(1,"i",21),e.qZA())}function F(o,a){if(1&o&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.Oqu(i.errorMsg)}}const c=function(o,a){return{"is-invalid":o," is-valid":a}};let L=(()=>{class o{constructor(i,t,n){this._AuthService=i,this._Router=t,this._Renderer2=n,this.isloading=!1,this.errorMsg="",this.username="",this.loginForm=new l.cw({email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required,l.kI.pattern(/^[0-9a-zA-Z_@]{6,}$/)])}),this.showPassword=!1}handleform(){const i=this.loginForm.value;this.isloading=!0,!0===this.loginForm.valid&&this._AuthService.login(i).subscribe({next:t=>{"success"==t.message&&(this.isloading=!1,localStorage.setItem("etoken",t.token),this._AuthService.decodeuser(),this._Router.navigate(["/home"]),this._AuthService.userName.next(this._AuthService.userinfo.name))},error:t=>{this.isloading=!1,this.errorMsg=t.error.message}})}showHidePassword(i){this.showPassword=i.target.checked,console.log(i.target.checked)}static#e=this.\u0275fac=function(t){return new(t||o)(e.Y36(f.e),e.Y36(d.F0),e.Y36(e.Qsj))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:28,vars:15,consts:[[1,"w-75","bg-main-light","shadow","rounded","px-5","pb-4","pt-1","m-4","m-auto","mb-sm-5"],[1,"my-5"],[3,"formGroup","ngSubmit"],[1,"form-floating","my-3"],["type","email","id","email","placeholder","email...","formControlName","email",1,"form-control",3,"ngClass"],["for","email"],["class","alert alert-danger p-1 small m-auto w-50",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","checkbox",3,"change"],["id","password","placeholder","password...","formControlName","password",1,"form-control",3,"type","ngClass"],["for","password"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["routerLink","/forget","routerLinkActive","router-link-active",1,"link-opacity-75-hover","link-offset-2","link-underline","link-underline-opacity-25","mt-4"],[1,"main-btn","d-block","ms-auto","p-2","m-4","px-4","loginbtn",3,"disabled"],[4,"ngIf"],[1,"w-75"],["routerLink","/register","routerLinkActive","router-link-active",1,"link-opacity-50-hover","link-underline-light","ms-2","fs-4"],["class","alert alert-danger mx-auto p-1 mb-0",4,"ngIf"],[1,"alert","alert-danger","p-1","small","m-auto","w-50"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fa","fa-spinner","fa-spin"],[1,"alert","alert-danger","mx-auto","p-1","mb-0"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"Login Now:"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return n.handleform()}),e.TgZ(4,"div",3),e._UZ(5,"input",4),e.TgZ(6,"label",5),e._uU(7,"email:"),e.qZA()(),e.YNc(8,w,3,2,"div",6),e.TgZ(9,"div",7)(10,"input",8),e.NdJ("change",function(g){return n.showHidePassword(g)}),e.qZA(),e._uU(11,"show "),e.qZA(),e.TgZ(12,"div",3),e._UZ(13,"input",9),e.TgZ(14,"label",10),e._uU(15,"password:"),e.qZA()(),e.YNc(16,A,3,2,"div",6),e.TgZ(17,"div",11)(18,"a",12),e._uU(19,"forgot password?"),e.qZA(),e.TgZ(20,"button",13),e._uU(21,"login"),e.YNc(22,C,2,0,"span",14),e.qZA()(),e._UZ(23,"hr",15),e.TgZ(24,"div")(25,"a",16),e._uU(26,"create account"),e.qZA()()(),e.YNc(27,F,2,1,"p",17),e.qZA()),2&t){let r,g,s,u;e.xp6(3),e.Q6J("formGroup",n.loginForm),e.xp6(2),e.Q6J("ngClass",e.WLB(9,c,(null==(r=n.loginForm.get("email"))?null:r.dirty)&&(null==(r=n.loginForm.get("email"))?null:r.invalid),(null==(r=n.loginForm.get("email"))?null:r.valid)&&(null==(r=n.loginForm.get("email"))?null:r.dirty))),e.xp6(3),e.Q6J("ngIf",(null==(g=n.loginForm.get("email"))?null:g.errors)&&(null==(g=n.loginForm.get("email"))?null:g.touched)),e.xp6(5),e.Q6J("type",n.showPassword?"text":"password")("ngClass",e.WLB(12,c,(null==(s=n.loginForm.get("password"))?null:s.dirty)&&(null==(s=n.loginForm.get("password"))?null:s.invalid),(null==(s=n.loginForm.get("password"))?null:s.valid)&&(null==(s=n.loginForm.get("password"))?null:s.dirty))),e.xp6(3),e.Q6J("ngIf",(null==(u=n.loginForm.get("password"))?null:u.errors)&&(null==(u=n.loginForm.get("password"))?null:u.touched)),e.xp6(4),e.Q6J("disabled",n.loginForm.invalid),e.xp6(2),e.Q6J("ngIf",n.isloading),e.xp6(5),e.Q6J("ngIf",n.errorMsg)}},dependencies:[p.ez,p.mk,p.O5,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,d.rH],styles:["@media only screen and (max-width: 1200px){section[_ngcontent-%COMP%]{margin:3rem;margin-top:3rem!important;margin-bottom:3rem!important}}"]})}return o})()}}]);