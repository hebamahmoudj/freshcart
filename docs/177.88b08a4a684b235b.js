"use strict";(self.webpackChunkFreshcart=self.webpackChunkFreshcart||[]).push([[177],{5177:(m,c,o)=>{o.r(c),o.d(c,{PaymentComponent:()=>p});var u=o(6814),r=o(95),t=o(4769),l=o(1120),n=o(6286);let p=(()=>{class e{constructor(s,i){this._ActivatedRoute=s,this._CartService=i,this.cartId="",this.checkoutForm=new r.cw({details:new r.NI(""),phone:new r.NI(""),city:new r.NI("")})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:s=>{this.cartId=s.get("id")}})}handleForm(){this._CartService.checkout(this.cartId,this.checkoutForm.value).subscribe({next:s=>{"success"==s.status&&window.open(s.session.url)}})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(l.gz),t.Y36(n.N))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment"]],standalone:!0,features:[t.jDz],decls:18,vars:1,consts:[[1,"w-50","shadow","mx-auto","mb-3","bg-main-light","p-4"],[1,"h3","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-floating","m-3"],["type","text","id","details","formControlName","details","placeholder","details",1,"form-control"],["for","details"],["type","tel","id","phone","formControlName","phone","placeholder","phone",1,"form-control"],["for","phone"],["type","text","id","city","formControlName","city","placeholder","city",1,"form-control"],["for","city"],[1,"main-btn","d-block","ms-auto","mt-3"]],template:function(i,h){1&i&&(t.TgZ(0,"section",0)(1,"h1",1),t._uU(2," check out session:"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return h.handleForm()}),t.TgZ(4,"div",3),t._UZ(5,"input",4),t.TgZ(6,"label",5),t._uU(7,"Details"),t.qZA()(),t.TgZ(8,"div",3),t._UZ(9,"input",6),t.TgZ(10,"label",7),t._uU(11,"phone"),t.qZA()(),t.TgZ(12,"div",3),t._UZ(13,"input",8),t.TgZ(14,"label",9),t._uU(15,"city"),t.qZA()(),t.TgZ(16,"button",10),t._uU(17,"checkout"),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("formGroup",h.checkoutForm))},dependencies:[u.ez,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]})}return e})()},6286:(m,c,o)=>{o.d(c,{N:()=>l});var u=o(5619),r=o(4769),t=o(9862);let l=(()=>{class n{constructor(e){this._HttpClient=e,this.cartNumber=new u.X(0),this.baseurl="https://ecommerce.routemisr.com/api/v1/"}addtocart(e){return this._HttpClient.post(this.baseurl+"cart",{productId:e})}getloggedusercart(){return this._HttpClient.get(this.baseurl+"cart")}updateproductquentitiy(e,a){return this._HttpClient.put(this.baseurl+`cart/${e}`,{count:a})}removeItem(e){return this._HttpClient.delete(this.baseurl+`cart/${e}`)}clearcart(){return this._HttpClient.delete(this.baseurl+"cart")}checkout(e,a){return this._HttpClient.post(` https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${e}?url=https://hebamahmoudj.github.io/freshcart/`,{shippingAddress:a})}checkoutcash(e,a){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/${e}`,{shippingAddress:a})}static#t=this.\u0275fac=function(a){return new(a||n)(r.LFG(t.eN))};static#e=this.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);