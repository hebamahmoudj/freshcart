"use strict";(self.webpackChunkFreshcart=self.webpackChunkFreshcart||[]).push([[932],{6666:(I,_,m)=>{m.r(_),m.d(_,{LoginComponent:()=>L});var p=m(6814),l=m(95),d=m(1120),n=m(4769),f=m(9410);function h(o,a){1&o&&(n.TgZ(0,"p",20),n._uU(1,"please fillout this field"),n.qZA())}function v(o,a){1&o&&(n.TgZ(0,"p",20),n._uU(1,"email invalid format "),n.qZA())}function w(o,a){if(1&o&&(n.TgZ(0,"div",18),n.YNc(1,h,2,0,"p",19),n.YNc(2,v,2,0,"p",19),n.qZA()),2&o){const i=n.oxw();let t,e;n.xp6(1),n.Q6J("ngIf",null==(t=i.loginForm.get("email"))?null:t.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(e=i.loginForm.get("email"))?null:e.getError("email"))}}function Z(o,a){1&o&&(n.TgZ(0,"p",20),n._uU(1,"please fillout this field"),n.qZA())}function T(o,a){1&o&&(n.TgZ(0,"p",20),n._uU(1,"password inncorect min length is 6"),n.qZA())}function A(o,a){if(1&o&&(n.TgZ(0,"div",18),n.YNc(1,Z,2,0,"p",19),n.YNc(2,T,2,0,"p",19),n.qZA()),2&o){const i=n.oxw();let t,e;n.xp6(1),n.Q6J("ngIf",null==(t=i.loginForm.get("password"))?null:t.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(e=i.loginForm.get("password"))?null:e.getError("pattern"))}}function C(o,a){1&o&&(n.TgZ(0,"span"),n._UZ(1,"i",21),n.qZA())}function F(o,a){if(1&o&&(n.TgZ(0,"p",22),n._uU(1),n.qZA()),2&o){const i=n.oxw();n.xp6(1),n.Oqu(i.errorMsg)}}const c=function(o,a){return{"is-invalid":o," is-valid":a}};let L=(()=>{class o{constructor(i,t,e){this._AuthService=i,this._Router=t,this._Renderer2=e,this.isloading=!1,this.errorMsg="",this.username="",this.loginForm=new l.cw({email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required,l.kI.pattern(/^[0-9a-zA-Z_@]{6,}$/)])}),this.showPassword=!1}handleform(){const i=this.loginForm.value;this.isloading=!0,!0===this.loginForm.valid&&this._AuthService.login(i).subscribe({next:t=>{"success"==t.message&&(this.isloading=!1,localStorage.setItem("etoken",t.token),this._AuthService.decodeuser(),this._Router.navigate(["/home"]),this._AuthService.userName.next(this._AuthService.userinfo.name))},error:t=>{this.isloading=!1,this.errorMsg=t.error.message}})}showHidePassword(i){this.showPassword=i.target.checked,console.log(i.target.checked)}static#n=this.\u0275fac=function(t){return new(t||o)(n.Y36(f.e),n.Y36(d.F0),n.Y36(n.Qsj))};static#e=this.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:28,vars:15,consts:[[1,"w-75","bg-main-light","shadow","rounded","p-4","m-3","m-auto","mb-sm-5"],[1,"my-5"],[3,"formGroup","ngSubmit"],[1,"form-floating","my-3"],["type","email","id","email","placeholder","email...","formControlName","email",1,"form-control",3,"ngClass"],["for","email"],["class","alert alert-danger p-1 small m-auto w-50",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","checkbox",3,"change"],["id","password","placeholder","password...","formControlName","password",1,"form-control",3,"type","ngClass"],["for","password"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["routerLink","/forget","routerLinkActive","router-link-active",1,"link-opacity-75-hover","link-offset-2","link-underline","link-underline-opacity-25","mt-4"],[1,"main-btn","d-block","ms-auto","p-2","m-4","px-4","loginbtn",3,"disabled"],[4,"ngIf"],[1,"w-75"],["routerLink","/register","routerLinkActive","router-link-active",1,"link-opacity-50-hover","link-underline-light","ms-2","fs-4"],["class","alert alert-danger mx-auto p-1 mb-0",4,"ngIf"],[1,"alert","alert-danger","p-1","small","m-auto","w-50"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fa","fa-spinner","fa-spin"],[1,"alert","alert-danger","mx-auto","p-1","mb-0"]],template:function(t,e){if(1&t&&(n.TgZ(0,"section",0)(1,"h1",1),n._uU(2,"Login Now:"),n.qZA(),n.TgZ(3,"form",2),n.NdJ("ngSubmit",function(){return e.handleform()}),n.TgZ(4,"div",3),n._UZ(5,"input",4),n.TgZ(6,"label",5),n._uU(7,"email:"),n.qZA()(),n.YNc(8,w,3,2,"div",6),n.TgZ(9,"div",7)(10,"input",8),n.NdJ("change",function(g){return e.showHidePassword(g)}),n.qZA(),n._uU(11,"show "),n.qZA(),n.TgZ(12,"div",3),n._UZ(13,"input",9),n.TgZ(14,"label",10),n._uU(15,"password:"),n.qZA()(),n.YNc(16,A,3,2,"div",6),n.TgZ(17,"div",11)(18,"a",12),n._uU(19,"forgot password?"),n.qZA(),n.TgZ(20,"button",13),n._uU(21,"login"),n.YNc(22,C,2,0,"span",14),n.qZA()(),n._UZ(23,"hr",15),n.TgZ(24,"div")(25,"a",16),n._uU(26,"create account"),n.qZA()()(),n.YNc(27,F,2,1,"p",17),n.qZA()),2&t){let r,g,s,u;n.xp6(3),n.Q6J("formGroup",e.loginForm),n.xp6(2),n.Q6J("ngClass",n.WLB(9,c,(null==(r=e.loginForm.get("email"))?null:r.dirty)&&(null==(r=e.loginForm.get("email"))?null:r.invalid),(null==(r=e.loginForm.get("email"))?null:r.valid)&&(null==(r=e.loginForm.get("email"))?null:r.dirty))),n.xp6(3),n.Q6J("ngIf",(null==(g=e.loginForm.get("email"))?null:g.errors)&&(null==(g=e.loginForm.get("email"))?null:g.touched)),n.xp6(5),n.Q6J("type",e.showPassword?"text":"password")("ngClass",n.WLB(12,c,(null==(s=e.loginForm.get("password"))?null:s.dirty)&&(null==(s=e.loginForm.get("password"))?null:s.invalid),(null==(s=e.loginForm.get("password"))?null:s.valid)&&(null==(s=e.loginForm.get("password"))?null:s.dirty))),n.xp6(3),n.Q6J("ngIf",(null==(u=e.loginForm.get("password"))?null:u.errors)&&(null==(u=e.loginForm.get("password"))?null:u.touched)),n.xp6(4),n.Q6J("disabled",e.loginForm.invalid),n.xp6(2),n.Q6J("ngIf",e.isloading),n.xp6(5),n.Q6J("ngIf",e.errorMsg)}},dependencies:[p.ez,p.mk,p.O5,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,d.rH],styles:["@media only screen and (max-width: 1200px){section[_ngcontent-%COMP%]{margin:3rem;margin-top:3rem!important;margin-bottom:3rem!important}.loginbtn[_ngcontent-%COMP%]{font-size:12px;width:50%!important;margin:auto}}"]})}return o})()}}]);